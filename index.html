<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Main & Billing Address 字符数检测</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root {
            --primary-color: #007bff;
            --error-color: #dc3545;
            --success-color: #28a745;
            --info-color: #17a2b8;
        }

        html {
            font-family: system-ui, -apple-system, sans-serif;
            background: #f5f5f5;
            line-height: 1.6;
        }

        body {
            margin: 0 auto;
            padding: 2rem;
            max-width: 800px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 2rem;
        }

        .input-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.3rem;
            font-weight: 600;
            color: #444;
        }

        input[type="text"] {
            width: 100%;
            padding: 0.6rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
            height: 20px;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
            width: 100%;
            margin: 1.5rem 0;
        }

        button:hover {
            background-color: #0056b3;
        }

        #result {
            background: white;
            padding: 1.5rem;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }

        .result-columns {
            display: flex;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .result-column {
            flex: 1;
        }

        .result-title {
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .result-item {
            padding: 0.5rem 0;
            border-bottom: 1px solid #f5f5f5;
        }

        .error {
            color: var(--error-color);
            font-weight: bold;
        }

        .success {
            color: var(--success-color);
        }

        .info {
            color: var(--info-color);
            font-weight: bold;
        }

        .limit {
            color: #666;
            font-size: 0.9em;
        }

        .language-detection {
            background-color: #f8f9fa;
            padding: 0.8rem;
            border-radius: 4px;
            margin-bottom: 1.5rem;
            font-size: 0.9em;
        }

        .final-result {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 2px solid #eee;
        }

        @media (max-width: 768px) {
            .result-columns {
                flex-direction: column;
            }

            body {
                padding: 1rem;
            }

            h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <main>
        <h1>Main & Billing Address 字符数检测</h1>

        <div class="input-group">
            <label for="line1">Line 1</label>
            <input type="text" id="line1" placeholder="请输入Line 1地址">
        </div>

        <div class="input-group">
            <label for="line2">Line 2</label>
            <input type="text" id="line2" placeholder="请输入Line 2地址">
        </div>

        <div class="input-group">
            <label for="line3">City</label>
            <input type="text" id="line3" placeholder="请输入City">
        </div>

        <div class="input-group">
            <label for="line4">Province</label>
            <input type="text" id="line4" placeholder="请输入Province">
        </div>

        <button onclick="checkLineLengths()">检查字符数</button>

        <div id="result"></div>
    </main>

    <script>
        function isChinese(text) {
            return /[\u4e00-\u9fa5]/.test(text);
        }

        function detectLanguage(lines) {
            for (let line of lines) {
                if (isChinese(line)) {
                    return 'chinese';
                }
            }
            return 'english';
        }

        function checkLineLengths() {
            const line1 = document.getElementById('line1').value;
            const line2 = document.getElementById('line2').value;
            const line3 = document.getElementById('line3').value;
            const line4 = document.getElementById('line4').value;

            const lines = [line1, line2, line3, line4];
            const language = detectLanguage(lines);

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';

            // 语言检测结果
            resultDiv.innerHTML += `
                <div class="language-detection">
                    检测到内容语言：<span class="info">${language === 'chinese' ? '中文' : '英文'}</span>
                </div>
            `;

            // 检查每行字符数
            const line1Length = line1.length;
            const line2Length = line2.length;
            const line3Length = line3.length;
            const line4Length = line4.length;

            // 中文限制
            const chineseLimits = [45, 20, 35, 35];
            const chineseLine1Valid = line1Length <= chineseLimits[0];
            const chineseLine2Valid = line2Length <= chineseLimits[1];
            const chineseLine3Valid = line3Length <= chineseLimits[2];
            const chineseLine4Valid = line4Length <= chineseLimits[3];

            // 英文限制
            const englishLimits = [45, 45, 35, 35];
            const englishLine1Valid = line1Length <= englishLimits[0];
            const englishLine2Valid = line2Length <= englishLimits[1];
            const englishLine3Valid = line3Length <= englishLimits[2];
            const englishLine4Valid = line4Length <= englishLimits[3];

            // 创建结果HTML - 并排显示
            let html = `
                <div class="result-columns">
                    <div class="result-column">
                        <div class="result-title">中文检查标准 (≤45, ≤20, ≤35, ≤35)</div>
                        <div class="result-item">
                            <span>第一行：${line1Length}字符</span>
                            <span class="limit">(限制≤${chineseLimits[0]})</span>
                            <span class="${chineseLine1Valid ? 'success' : 'error'}">${chineseLine1Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>第二行：${line2Length}字符</span>
                            <span class="limit">(限制≤${chineseLimits[1]})</span>
                            <span class="${chineseLine2Valid ? 'success' : 'error'}">${chineseLine2Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>城市：${line3Length}字符</span>
                            <span class="limit">(限制≤${chineseLimits[2]})</span>
                            <span class="${chineseLine3Valid ? 'success' : 'error'}">${chineseLine3Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>省份：${line4Length}字符</span>
                            <span class="limit">(限制≤${chineseLimits[3]})</span>
                            <span class="${chineseLine4Valid ? 'success' : 'error'}">${chineseLine4Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item" style="margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px dashed #eee;">
                            <span style="font-weight: bold;">中文标准总体：</span>
                            <span class="${chineseLine1Valid && chineseLine2Valid && chineseLine3Valid && chineseLine4Valid ? 'success' : 'error'}">
                                ${chineseLine1Valid && chineseLine2Valid && chineseLine3Valid && chineseLine4Valid ? '✓ 全部符合' : '✗ 部分不符合'}
                            </span>
                        </div>
                    </div>

                    <div class="result-column">
                        <div class="result-title">英文检查标准 (≤45, ≤45, ≤35, ≤35)</div>
                        <div class="result-item">
                            <span>第一行：${line1Length}字符</span>
                            <span class="limit">(限制≤${englishLimits[0]})</span>
                            <span class="${englishLine1Valid ? 'success' : 'error'}">${englishLine1Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>第二行：${line2Length}字符</span>
                            <span class="limit">(限制≤${englishLimits[1]})</span>
                            <span class="${englishLine2Valid ? 'success' : 'error'}">${englishLine2Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>城市：${line3Length}字符</span>
                            <span class="limit">(限制≤${englishLimits[2]})</span>
                            <span class="${englishLine3Valid ? 'success' : 'error'}">${englishLine3Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item">
                            <span>省份：${line4Length}字符</span>
                            <span class="limit">(限制≤${englishLimits[3]})</span>
                            <span class="${englishLine4Valid ? 'success' : 'error'}">${englishLine4Valid ? '✓ 符合' : '✗ 超出'}</span>
                        </div>
                        <div class="result-item" style="margin-top: 0.5rem; padding-top: 0.5rem; border-top: 1px dashed #eee;">
                            <span style="font-weight: bold;">英文标准总体：</span>
                            <span class="${englishLine1Valid && englishLine2Valid && englishLine3Valid && englishLine4Valid ? 'success' : 'error'}">
                                ${englishLine1Valid && englishLine2Valid && englishLine3Valid && englishLine4Valid ? '✓ 全部符合' : '✗ 部分不符合'}
                            </span>
                        </div>
                    </div>
                </div>
            `;

            // 最终建议
            const recommendedValid = language === 'chinese' ?
                (chineseLine1Valid && chineseLine2Valid && chineseLine3Valid && chineseLine4Valid) :
                (englishLine1Valid && englishLine2Valid && englishLine3Valid && englishLine4Valid);

            html += `
                <div class="final-result">
                    <div class="result-title">最终检查结果</div>
                    <div class="result-item">
                        根据内容语言(<span class="info">${language === 'chinese' ? '中文' : '英文'}</span>)，
                        推荐使用<span class="info">${language === 'chinese' ? '中文' : '英文'}</span>标准检查：
                        <span class="${recommendedValid ? 'success' : 'error'}" style="font-weight: bold;">
                            ${recommendedValid ? '✓ 符合要求' : '✗ 不符合要求'}
                        </span>
                    </div>
                </div>
            `;

            resultDiv.innerHTML += html;
        }
    </script>
</body>
</html>